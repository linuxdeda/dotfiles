/* SPDX-License-Identifier: GPL-3.0-or-later */

/* Custom theme GTK3 - Window Controls Mac-like Behavior
 * Updated to use pre-rendered PNG assets + @2 hi-DPI counterparts.
 * Rationale: GTK3 also exhibits soft / blurry rasterization of SVG
 * window control icons under fractional scaling. Using PNG plus
 * -gtk-scaled() yields sharper, predictable results. */

/* Window Controls base states */

headerbar button.titlebutton,
.titlebar button.titlebutton {
  min-width: 16px;
  min-height: 16px;
  margin: 0px;
  padding: 1px;
  background-repeat: no-repeat;
  background-size: 16px 16px;
  background-position: center;
}
/* changes spacing around buttons */
headerbar button > image {
  padding: 0 1px;
}

headerbar.titlebar {
  padding-left: 12px;
}

/* Reset default theming on these buttons for all interactive states */
headerbar button.titlebutton.close,
headerbar button.titlebutton.close:hover,
headerbar button.titlebutton.close:focus,
headerbar button.titlebutton.close:active,
headerbar button.titlebutton.close:backdrop,
headerbar button.titlebutton.maximize,
headerbar button.titlebutton.maximize:hover,
headerbar button.titlebutton.maximize:focus,
headerbar button.titlebutton.maximize:active,
headerbar button.titlebutton.maximize:backdrop,
headerbar button.titlebutton.minimize,
headerbar button.titlebutton.minimize:hover,
headerbar button.titlebutton.minimize:focus,
headerbar button.titlebutton.minimize:active,
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.close,
.titlebar button.titlebutton.close:hover,
.titlebar button.titlebutton.close:focus,
.titlebar button.titlebutton.close:active,
.titlebar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.maximize,
.titlebar button.titlebutton.maximize:hover,
.titlebar button.titlebutton.maximize:focus,
.titlebar button.titlebutton.maximize:active,
.titlebar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.minimize,
.titlebar button.titlebutton.minimize:hover,
.titlebar button.titlebutton.minimize:focus,
.titlebar button.titlebutton.minimize:active,
.titlebar button.titlebutton.minimize:backdrop {
  border-color: transparent;
  background-color: transparent;
  background-image: none;
  box-shadow: none;
  color: transparent;
}

/* Backdrop stays opaque */
headerbar button.titlebutton.close:backdrop,
headerbar button.titlebutton.maximize:backdrop,
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.minimize:backdrop {
  opacity: 1;
}

/* --- CLOSE --- */
headerbar button.titlebutton.close,
.titlebar button.titlebutton.close {
  background-image: -gtk-scaled(
    url("titlebuttons/button-close.png"),
    url("titlebuttons/button-close@2.png")
  );
}
headerbar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.close:backdrop {
  background-image: -gtk-scaled(
    url("titlebuttons/button-close-backdrop.png"),
    url("titlebuttons/button-close-backdrop@2.png")
  );
}
/* per-button hover */
headerbar button.titlebutton.close:hover,
.titlebar button.titlebutton.close:hover,
headerbar button.titlebutton.close:backdrop:hover,
.titlebar button.titlebutton.close:backdrop:hover {
  background-image: -gtk-scaled(
    url("titlebuttons/button-close-hover-alt.png"),
    url("titlebuttons/button-close-hover-alt@2.png")
  );
}

/* --- MINIMIZE --- */
headerbar button.titlebutton.minimize,
.titlebar button.titlebutton.minimize {
  background-image: -gtk-scaled(
    url("titlebuttons/button-minimize.png"),
    url("titlebuttons/button-minimize@2.png")
  );
}
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.minimize:backdrop {
  background-image: -gtk-scaled(
    url("titlebuttons/button-minimize-backdrop.png"),
    url("titlebuttons/button-minimize-backdrop@2.png")
  );
}
headerbar button.titlebutton.minimize:hover,
.titlebar button.titlebutton.minimize:hover,
headerbar button.titlebutton.minimize:backdrop:hover,
.titlebar button.titlebutton.minimize:backdrop:hover {
  background-image: -gtk-scaled(
    url("titlebuttons/button-minimize-hover.png"),
    url("titlebuttons/button-minimize-hover@2.png")
  );
}

/* --- MAXIMIZE (window not maximized) --- */
headerbar button.titlebutton.maximize,
.titlebar button.titlebutton.maximize {
  background-image: -gtk-scaled(
    url("titlebuttons/button-maximize.png"),
    url("titlebuttons/button-maximize@2.png")
  );
}
headerbar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.maximize:backdrop {
  background-image: -gtk-scaled(
    url("titlebuttons/button-maximize-backdrop.png"),
    url("titlebuttons/button-maximize-backdrop@2.png")
  );
}
headerbar button.titlebutton.maximize:hover,
.titlebar button.titlebutton.maximize:hover,
headerbar button.titlebutton.maximize:backdrop:hover,
.titlebar button.titlebutton.maximize:backdrop:hover {
  background-image: -gtk-scaled(
    url("titlebuttons/button-maximize-hover-alt.png"),
    url("titlebuttons/button-maximize-hover-alt@2.png")
  );
}

/* --- RESTORE (when window is maximized) --- */
headerbar button.titlebutton.restore,
.titlebar button.titlebutton.restore {
  background-image: -gtk-scaled(
    url("titlebuttons/button-restore.png"),
    url("titlebuttons/button-restore@2.png")
  );
}
headerbar button.titlebutton.restore:backdrop,
.titlebar button.titlebutton.restore:backdrop {
  background-image: -gtk-scaled(
    url("titlebuttons/button-restore-backdrop.png"),
    url("titlebuttons/button-restore-backdrop@2.png")
  );
}
headerbar button.titlebutton.restore:hover,
.titlebar button.titlebutton.restore:hover,
headerbar button.titlebutton.restore:backdrop:hover,
.titlebar button.titlebutton.restore:backdrop:hover {
  background-image: -gtk-scaled(
    url("titlebuttons/button-restore-hover-alt.png"),
    url("titlebuttons/button-restore-hover-alt@2.png")
  );
}

/* --- GROUP HOVER (GTK3 helper adds .titlebuttons-hover-alt either on box OR directly on headerbar) --- */
headerbar.titlebuttons-hover-alt button.titlebutton.close,
.titlebar.titlebuttons-hover-alt button.titlebutton.close,
headerbar box.titlebuttons-hover-alt button.titlebutton.close,
.titlebar box.titlebuttons-hover-alt button.titlebutton.close {
  background-image: -gtk-scaled(
    url("titlebuttons/button-close-hover-alt.png"),
    url("titlebuttons/button-close-hover-alt@2.png")
  );
}
headerbar.titlebuttons-hover-alt button.titlebutton.minimize,
.titlebar.titlebuttons-hover-alt button.titlebutton.minimize,
headerbar box.titlebuttons-hover-alt button.titlebutton.minimize,
.titlebar box.titlebuttons-hover-alt button.titlebutton.minimize {
  background-image: -gtk-scaled(
    url("titlebuttons/button-minimize-hover.png"),
    url("titlebuttons/button-minimize-hover@2.png")
  );
}
headerbar.titlebuttons-hover-alt button.titlebutton.maximize,
.titlebar.titlebuttons-hover-alt button.titlebutton.maximize,
headerbar box.titlebuttons-hover-alt button.titlebutton.maximize,
.titlebar box.titlebuttons-hover-alt button.titlebutton.maximize {
  background-image: -gtk-scaled(
    url("titlebuttons/button-maximize-hover-alt.png"),
    url("titlebuttons/button-maximize-hover-alt@2.png")
  );
}
/* when the button is in restore mode and the box is hovered */
headerbar.titlebuttons-hover-alt button.titlebutton.restore,
.titlebar.titlebuttons-hover-alt button.titlebutton.restore,
headerbar box.titlebuttons-hover-alt button.titlebutton.restore,
.titlebar box.titlebuttons-hover-alt button.titlebutton.restore {
  background-image: -gtk-scaled(
    url("titlebuttons/button-restore-hover-alt.png"),
    url("titlebuttons/button-restore-hover-alt@2.png")
  );
}

/* --- ACTIVE STATES LAST (so they win over group-hover-alt) --- */
headerbar button.titlebutton.close:active,
.titlebar button.titlebutton.close:active,
headerbar.titlebuttons-hover-alt button.titlebutton.close:active,
.titlebar.titlebuttons-hover-alt button.titlebutton.close:active,
headerbar box.titlebuttons-hover-alt button.titlebutton.close:active,
.titlebar box.titlebuttons-hover-alt button.titlebutton.close:active {
  background-image: -gtk-scaled(
    url("titlebuttons/button-close-active-alt.png"),
    url("titlebuttons/button-close-active-alt@2.png")
  );
}

headerbar button.titlebutton.minimize:active,
.titlebar button.titlebutton.minimize:active,
headerbar.titlebuttons-hover-alt button.titlebutton.minimize:active,
.titlebar.titlebuttons-hover-alt button.titlebutton.minimize:active,
headerbar box.titlebuttons-hover-alt button.titlebutton.minimize:active,
.titlebar box.titlebuttons-hover-alt button.titlebutton.minimize:active {
  background-image: -gtk-scaled(
    url("titlebuttons/button-minimize-active.png"),
    url("titlebuttons/button-minimize-active@2.png")
  );
}

headerbar button.titlebutton.maximize:active,
.titlebar button.titlebutton.maximize:active,
headerbar.titlebuttons-hover-alt button.titlebutton.maximize:active,
.titlebar.titlebuttons-hover-alt button.titlebutton.maximize:active,
headerbar box.titlebuttons-hover-alt button.titlebutton.maximize:active,
.titlebar box.titlebuttons-hover-alt button.titlebutton.maximize:active {
  background-image: -gtk-scaled(
    url("titlebuttons/button-maximize-active-alt.png"),
    url("titlebuttons/button-maximize-active-alt@2.png")
  );
}

headerbar button.titlebutton.restore:active,
.titlebar button.titlebutton.restore:active,
headerbar.titlebuttons-hover-alt button.titlebutton.restore:active,
.titlebar.titlebuttons-hover-alt button.titlebutton.restore:active,
headerbar box.titlebuttons-hover-alt button.titlebutton.restore:active,
.titlebar box.titlebuttons-hover-alt button.titlebutton.restore:active {
  background-image: -gtk-scaled(
    url("titlebuttons/button-restore-active-alt.png"),
    url("titlebuttons/button-restore-active-alt@2.png")
  );
}
